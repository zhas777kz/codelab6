<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ü—Ä–∞–∫—Ç–∏–∫—É–º 2 ‚Äî –°—Ç—Ä–æ–∫–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</title>
<style>
:root{
  --blue1:#42a5f5; --blue2:#1e88e5; --ink:#263238; --card:#ffffff;
}
body{margin:0;font-family:Segoe UI,Roboto,Arial;background:linear-gradient(135deg,#e3f2fd,#bbdefb);color:var(--ink)}
header{background:linear-gradient(90deg,var(--blue1),var(--blue2));color:#fff;text-align:center;padding:40px 20px;box-shadow:0 4px 12px rgba(0,0,0,.2)}
header h1{margin:0;font-size:clamp(22px,3.5vw,32px)}
header p{margin:.5rem 0 0;font-size:1rem}
.container{max-width:1000px;margin:30px auto;padding:0 16px}
.progress{background:#fff;border-radius:14px;padding:14px 18px;margin-bottom:30px;box-shadow:0 6px 14px rgba(0,0,0,.08);display:flex;flex-wrap:wrap;gap:16px;align-items:center}
.bar{flex:1;background:#d0e7ff;border-radius:10px;height:10px;overflow:hidden}
.fill{height:100%;width:0;background:linear-gradient(90deg,var(--blue1),var(--blue2));transition:.3s}
.level{margin-top:40px}
.level h2{margin:0 0 20px;color:#1565c0;font-size:1.4rem;border-bottom:3px solid #90caf9;display:inline-block;padding-bottom:4px}
.task{background:var(--card);border-radius:18px;padding:24px;margin-bottom:26px;box-shadow:0 6px 14px rgba(0,0,0,.12)}
.task h3{margin-top:0;margin-bottom:8px;color:#0d47a1;font-size:1.2rem}
.task p.desc{margin-top:0;margin-bottom:14px;font-size:0.95rem;line-height:1.4}
textarea{width:100%;min-height:120px;padding:12px;font-family:ui-monospace,monospace;font-size:15px;border:2px solid #90caf9;border-radius:12px;resize:vertical}
button{margin-top:12px;padding:10px 18px;border:none;border-radius:12px;font-weight:600;cursor:pointer;background:var(--blue1);color:#fff;transition:.2s}
button:hover{background:var(--blue2)}
.output{margin-top:12px;background:#0b1020;color:#d8e7ff;border-radius:12px;padding:12px;white-space:pre-wrap;font-family:ui-monospace,monospace;font-size:0.9rem}
footer{max-width:1000px;margin:40px auto 30px;padding:0 16px;color:#41546a;font-size:.9rem}
</style>
</head>
<body>

<header>
  <h1>–ü—Ä–∞–∫—Ç–∏–∫—É–º 2. –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞</h1>
  <p>–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–æ—Å–µ–º—å –∑–∞–¥–∞–Ω–∏–π —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ –≤ Python.</p>
</header>
<div class="back-home">
  <a href="index.html" class="home-btn">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
</div>

<style>
.back-home{
  max-width:1000px;
  margin:20px auto 30px;
  padding:0 16px;
  text-align:center;
}
.home-btn{
  display:inline-block;
  padding:12px 22px;
  border-radius:12px;
  background:#42a5f5;
  color:#fff;
  font-weight:600;
  text-decoration:none;
  transition:.25s;
}
.home-btn:hover{
  background:#1e88e5;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
}
</style>
<div class="container">
  <div class="progress">
    <strong>–ü—Ä–æ–≥—Ä–µ—Å—Å:</strong>
    <span id="score">0 / 8 –∑–∞–¥–∞–Ω–∏–π</span>
    <div class="bar"><div class="fill" id="bar"></div></div>
  </div>

  <!-- –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å -->
  <section class="level">
    <h2>üü¢ –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å</h2>

    <div class="task"><h3>1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–≤–µ–¥–∏—Ç–µ —Ñ—Ä–∞–∑—É <em>–ü—Ä–∏–≤–µ—Ç, &lt;–∏–º—è&gt;!</em></p>
      <textarea id="code1"></textarea>
      <button onclick="runTask(1)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out1"></div>
    </div>

    <div class="task"><h3>2. –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ –Ω–µ–π.</p>
      <textarea id="code2"></textarea>
      <button onclick="runTask(2)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out2"></div>
    </div>

    <div class="task"><h3>3. –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ —Å–ª–æ–≤–æ –∏ —á–∏—Å–ª–æ <em>n</em>. –í—ã–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ, –ø–æ–≤—Ç–æ—Ä—ë–Ω–Ω–æ–µ <em>n</em> —Ä–∞–∑ –ø–æ–¥—Ä—è–¥.</p>
      <textarea id="code3"></textarea>
      <button onclick="runTask(3)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out3"></div>
    </div>
  </section>

  <!-- –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å -->
  <section class="level">
    <h2>üü† –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å</h2>

    <div class="task"><h3>4. –í–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –µ—ë –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ.</p>
      <textarea id="code4"></textarea>
      <button onclick="runTask(4)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out4"></div>
    </div>

    <div class="task"><h3>5. –ó–∞–º–µ–Ω–∞ —Å–∏–º–≤–æ–ª–æ–≤</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã –Ω–∞ —Å–∏–º–≤–æ–ª –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è <code>_</code>, –∑–∞—Ç–µ–º –≤—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
      <textarea id="code5"></textarea>
      <button onclick="runTask(5)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out5"></div>
    </div>

    <div class="task"><h3>6. –ü–æ–¥—Å—á—ë—Ç –±—É–∫–≤</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –∏ –≤—ã–≤–µ–¥–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±—É–∫–≤–∞ ¬´–∞¬ª –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ (–±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞).</p>
      <textarea id="code6"></textarea>
      <button onclick="runTask(6)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out6"></div>
    </div>
  </section>

  <!-- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å -->
  <section class="level">
    <h2>üîµ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å</h2>

    <div class="task"><h3>7. –ü–µ—Ä–µ–≤–æ—Ä–æ—Ç</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –µ—ë –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–∑–µ—Ä–∫–∞–ª—å–Ω–æ).</p>
      <textarea id="code7"></textarea>
      <button onclick="runTask(7)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out7"></div>
    </div>

    <div class="task"><h3>8. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥</h3>
      <p class="desc">–°—á–∏—Ç–∞–π—Ç–µ –∏–º—è –∏ –≤–æ–∑—Ä–∞—Å—Ç. –í—ã–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞: ¬´–ú–µ–Ω—è –∑–æ–≤—É—Ç &lt;–∏–º—è&gt;, –º–Ω–µ &lt;–≤–æ–∑—Ä–∞—Å—Ç&gt; –ª–µ—Ç¬ª —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º f-—Å—Ç—Ä–æ–∫–∏.</p>
      <textarea id="code8"></textarea>
      <button onclick="runTask(8)">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="out8"></div>
    </div>
  </section>
</div>


<script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
<script>
let pyReady = loadPyodide();
let passed = new Set();
function updateScore(){
  document.getElementById("score").textContent = `${passed.size} / 8 –∑–∞–¥–∞–Ω–∏–π`;
  document.getElementById("bar").style.width = (passed.size/8*100)+"%";
}
const tasks = {
  1:{code:'code1',out:'out1',tests:[
    {input:["–ê–Ω—è\n"],expect:"–ü—Ä–∏–≤–µ—Ç, –ê–Ω—è!"},
    {input:["–¢–∏–º—É—Ä\n"],expect:"–ü—Ä–∏–≤–µ—Ç, –¢–∏–º—É—Ä!"}
  ]},
  2:{code:'code2',out:'out2',tests:[
    {input:["Python\n"],expect:"6"},
    {input:["–ü—Ä–∏–≤–µ—Ç\n"],expect:String("–ü—Ä–∏–≤–µ—Ç".length)}
  ]},
  3:{code:'code3',out:'out3',tests:[
    {input:["Hi\n","3\n"],expect:"HiHiHi"},
    {input:["a\n","5\n"],expect:"aaaaa"}
  ]},
  4:{code:'code4',out:'out4',tests:[
    {input:["Hello\n"],expect:"HELLO"},
    {input:["–ø—Ä–∏–≤–µ—Ç\n"],expect:"–ü–†–ò–í–ï–¢"}
  ]},
  5:{code:'code5',out:'out5',tests:[
    {input:["I love python\n"],expect:"I_love_python"},
    {input:["one two\n"],expect:"one_two"}
  ]},
  6:{code:'code6',out:'out6',tests:[
    {input:["–ê–Ω–∞–Ω–∞—Å\n"],expect:"3"},
    {input:["banana\n"],expect:"3"}
  ]},
  7:{code:'code7',out:'out7',tests:[
    {input:["abcd\n"],expect:"dcba"},
    {input:["–ü—Ä–∏–≤–µ—Ç\n"],expect:[..."–ü—Ä–∏–≤–µ—Ç"].reverse().join("")}
  ]},
  8:{code:'code8',out:'out8',tests:[
    {input:["–ê–Ω–Ω–∞\n","12\n"],expect:"–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–Ω–Ω–∞, –º–Ω–µ 12 –ª–µ—Ç"},
    {input:["–ò–≥–æ—Ä—å\n","7\n"],expect:"–ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≥–æ—Ä—å, –º–Ω–µ 7 –ª–µ—Ç"}
  ]}
};

async function runTask(id){
  const pyodide = await pyReady;
  const cfg = tasks[id];
  const code = document.getElementById(cfg.code).value;
  const out = document.getElementById(cfg.out);
  out.textContent = "–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤‚Ä¶\n";
  let allOk = true;

  for(let t of cfg.tests){
    const wrapper = `
import sys,io,builtins
_inputs = ${JSON.stringify(t.input)}
def fake_input(prompt=""):
    return _inputs.pop(0).strip()
builtins.input = fake_input
sys.stdout = io.StringIO()
${code}
sys.stdout.getvalue().strip()
`;
    try{
      let r = await pyodide.runPythonAsync(wrapper);
      let got = r.trim();
      let exp = Array.isArray(t.expect)?t.expect[0]:t.expect; // –Ω–∞ —Å–ª—É—á–∞–π —Ä—É—Å—Å–∫–æ–≥–æ reverse
      if(got===exp){
        out.textContent += `‚úÖ –í–≤–æ–¥ ${t.input.map(x=>x.trim()).join(", ")} ‚Üí ${got}\n`;
      }else{
        allOk = false;
        out.textContent += `‚ùå –í–≤–æ–¥ ${t.input.map(x=>x.trim()).join(", ")}\n   –æ–∂–∏–¥–∞–ª–æ—Å—å ${exp}, –ø–æ–ª—É—á–µ–Ω–æ ${got}\n`;
      }
    }catch(e){
      allOk = false;
      out.textContent += `‚ö† –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${e}\n`;
    }
  }

  if(allOk){
    out.textContent = "üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!\n\n" + out.textContent;
    passed.add(id);
  }else{
    passed.delete(id);
  }
  updateScore();
}
</script>
</body>
</html>
